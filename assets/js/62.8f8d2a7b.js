(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{650:function(t,a,e){"use strict";e.r(a);var o=e(0),c=Object(o.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"bootstrap-an-interchain-accounts-testnet-using-starport"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-an-interchain-accounts-testnet-using-starport"}},[t._v("#")]),t._v(" Bootstrap an Interchain Accounts Testnet using Starport")]),t._v(" "),e("p",[t._v("Interchain Accounts currently experimentally supports "),e("a",{attrs:{href:"https://github.com/tendermint/starport/releases/tag/v0.13.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Starport v0.13.1"),e("OutboundLink")],1),t._v(". However, it should be noted that stability is not guaranteed as the module import functionality is an experimental feature.")]),t._v(" "),e("h2",{attrs:{id:"testing-ica-with-starport"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#testing-ica-with-starport"}},[t._v("#")]),t._v(" Testing ICA with Starport")]),t._v(" "),e("h3",{attrs:{id:"_1-start-two-chains-with-starport"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-start-two-chains-with-starport"}},[t._v("#")]),t._v(" 1. Start two chains with Starport")]),t._v(" "),e("p",[t._v("Open two "),e("a",{attrs:{href:"https://gitpod.io/#https://github.com/chainapsis/cosmos-sdk-interchain-account",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitpod"),e("OutboundLink")],1),t._v(" workspaces (Create fresh workspace â†’ create) to start two instances of Starport chains: "),e("code",[t._v("foo")]),t._v(" and "),e("code",[t._v("bar")]),t._v(".")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQgYXBwIGdpdGh1Yi5jb20vZm9vL2ZvbyAtLXNkay12ZXJzaW9uIHN0YXJnYXRlCgpjZCBmb28K"}}),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQgYXBwIGdpdGh1Yi5jb20vYmFyL2JhciAtLXNkay12ZXJzaW9uIHN0YXJnYXRlCgpjZCBiYXIK"}}),t._v(" "),e("h3",{attrs:{id:"_2-import-the-ibc-account-module-to-the-two-chains"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-import-the-ibc-account-module-to-the-two-chains"}},[t._v("#")]),t._v(" 2. Import the IBC Account module to the two chains")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1/2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQtaWNhIG1vZHVsZSBpbXBvcnQKc3RhcnBvcnQtaWNhIG1vZHVsZSBpbXBvcnQgbW9jawo="}}),t._v(" "),e("h3",{attrs:{id:"_3-start-the-two-chains"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-start-the-two-chains"}},[t._v("#")]),t._v(" 3. Start the two chains")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1/2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQgc2VydmUK"}}),t._v(" "),e("h3",{attrs:{id:"_4-check-the-relayer-information"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-check-the-relayer-information"}},[t._v("#")]),t._v(" 4. Check the relayer information")]),t._v(" "),e("p",[t._v("After bootstrapping each chain, each workspace terminal will display the relayer information as follows. Note that the value displayed will be different from the example.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1/2 Console")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"4pyoIFJlbGF5ZXIgaW5mbzogZXlKRGFHRnBia2xFSWpvaVltRnlJaXdpVFc1bGJXOXVhV01pT2lKbWNtOXpkQ0J5WVhwdmNpQm9ZV3htSUd4aGRXNWtjbmtnY0hKdlptbDBJSGRwYzJVZ2RHOXVaU0JpYkhWemFDQnpkWEpuWlNCclpXVndJSFJ2WjJWMGFHVnlJSE5zYVdObElIbHZkWFJvSUhSeWRYUm9JR1Z1YkdsemRDQmpkWEJpYjJGeVpDQmhZbk52Y21JZ2MyVmxaQ0J6WlhKcFpYTWdaRzkxWW14bElIWnBiR3hoWjJVZ2RHOXVaM1ZsSUdac1lYTm9JR2R2Y21sc2JHRWlMQ0pTVUVOQlpHUnlaWE56SWpvaWFIUjBjSE02THk4eU5qWTFOeTFqTnpsbE5EazJaQzFrWkRrNExUUTRNV1F0T1RsbVppMWpaR1E0T1RBMk5XUTRNV0l1ZDNNdFpYVXdNUzVuYVhSd2IyUXVhVzg2TkRRekluMAo="}}),t._v(" "),e("h3",{attrs:{id:"_5-add-chain-foo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-add-chain-foo"}},[t._v("#")]),t._v(" 5. Add Chain Foo")]),t._v(" "),e("p",[t._v("Head over to Workspace 2 and open a new terminal window. Input the following code to add the IBC connected chain. Make sure to use the relayer information shown in step 4 instead of the value provided in the example.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2QgLi4vYmFyCnN0YXJwb3J0IGNoYWluIGFkZCB7d29ya3NwYWNlMS1yZWxheWVyLWluZm99Cg=="}}),t._v(" "),e("h3",{attrs:{id:"_6-modify-the-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-modify-the-configuration"}},[t._v("#")]),t._v(" 6. Modify the configuration")]),t._v(" "),e("p",[t._v("At this stage, IBC transfers connections are open. However, as Starport currently only natively supports IBC transfers we need to change the relayer configuration.")]),t._v(" "),e("p",[t._v("Refer to the bar-foo IBC path by checking the "),e("code",[t._v("config.yaml")]),t._v(" file as follows:")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"dmkgfi8ucmVsYXllci9jb25maWcvY29uZmlnLnlhbWwK"}}),t._v(" "),e("p",[t._v("Manually add a new path by appending the following example path information underneath the existing "),e("code",[t._v("bar-foo")]),t._v(" path (Note that the "),e("code",[t._v("client-id")]),t._v(" and "),e("code",[t._v("connection-id")]),t._v(" doesn't have to be changed from the example below, but you must change the "),e("code",[t._v("channel-id")]),t._v(" name):")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"yaml",base64:"Z2xvYmFsOgogIHRpbWVvdXQ6IDEwcwogIGxpdGUtY2FjaGUtc2l6ZTogMjAKY2hhaW5zOgotIGtleTogdGVzdGtleQogIGNoYWluLWlkOiBiYXIKICBycGMtYWRkcjogaHR0cHM6Ly8yNjY1Ny1iNDQ0NzgzYy03ODBmLTRiMTktYWQ3My1hYTAyY2Y0MzA5ZGYud3MtdXMwMy5naXRwb2QuaW86NDQzCiAgYWNjb3VudC1wcmVmaXg6IGNvc21vcwogIGdhcy1hZGp1c3RtZW50OiAxLjUKICB0cnVzdGluZy1wZXJpb2Q6IDMzNmgKLSBrZXk6IHRlc3RrZXkKICBjaGFpbi1pZDogZm9vCiAgcnBjLWFkZHI6IGh0dHBzOi8vMjY2NTctZTg3ODNjYzUtMTdlYi00NGI1LTk5MGMtNTg0YTk3MDUyNzFlLndzLXVzMDMuZ2l0cG9kLmlvOjQ0MwogIGFjY291bnQtcHJlZml4OiBjb3Ntb3MKICBnYXMtYWRqdXN0bWVudDogMS41CiAgdHJ1c3RpbmctcGVyaW9kOiAzMzZoCnBhdGhzOgogIGJhci1mb286CiAgICBzcmM6CiAgICAgIGNoYWluLWlkOiBiYXIKICAgICAgY2xpZW50LWlkOiBiNGY2MDU2YS0xMzQ0LTRlNWQtOWQyMC05M2VhODk2ZGZiNmMKICAgICAgY29ubmVjdGlvbi1pZDogZjNjYWI1ODktZGIzZS00ZTE5LTgxMDgtNGVhNGMzOWEzMmY3CiAgICAgIGNoYW5uZWwtaWQ6IHRlc3QKICAgICAgcG9ydC1pZDogdHJhbnNmZXIKICAgICAgb3JkZXI6IHVub3JkZXJlZAogICAgICB2ZXJzaW9uOiBpY3MyMC0xCiAgICBkc3Q6CiAgICAgIGNoYWluLWlkOiBmb28KICAgICAgY2xpZW50LWlkOiA3NTI4NDQyMi1lYzJhLTQ0N2QtOTc2NC1jNTlmZGM3NDRlMWEKICAgICAgY29ubmVjdGlvbi1pZDogZTY4M2Y3YmItYTQ5Yi00Yzk3LTgzYTUtZDM0MmFkMTdkMjhlCiAgICAgIGNoYW5uZWwtaWQ6IHRlc3QKICAgICAgcG9ydC1pZDogdHJhbnNmZXIKICAgICAgb3JkZXI6IHVub3JkZXJlZAogICAgICB2ZXJzaW9uOiBpY3MyMC0xCiAgICBzdHJhdGVneToKICAgICAgdHlwZTogbmFpdmUKLy9hcHBlbmQgdGhlIGJhci1mb28taWNhIHBhdGggaW5mb3JtYXRpb24gYXMgc2hvd24gaGVyZQovL2J1dCBjaGFuZ2UgdGhlIGNoYW5uZWwtaWQKICBiYXItZm9vLWljYToKICAgIHNyYzoKICAgICAgY2hhaW4taWQ6IGJhcgogICAgICBjbGllbnQtaWQ6IDE1OTlmYmVhLTQzYTAtNGU4Yi05YzA0LTNmN2U1Y2QxMWY5NAogICAgICBjb25uZWN0aW9uLWlkOiAxZjM5NzUyNy1lOTRlLTQzNjItOTBjYy1iYzU4ZTVhYWJmZmQKICAgICAgY2hhbm5lbC1pZDoge3lvdXItY2hhbm5lbC1pZC1uYW1lfQogICAgICBwb3J0LWlkOiBpYmNhY2NvdW50CiAgICAgIG9yZGVyOiBvcmRlcmVkCiAgICAgIHZlcnNpb246IGljczI3LTEKICAgIGRzdDoKICAgICAgY2hhaW4taWQ6IGZvbwogICAgICBjbGllbnQtaWQ6IDE1ZGEyNTEyLWUyYjMtNDYwNy04MzU1LTc0Yzk5NDkyNWNjOQogICAgICBjb25uZWN0aW9uLWlkOiAxZjRjMGZjMy0wNDc5LTQzYTctODRjNC0yMWQ2MDJjN2VkOTgKICAgICAgY2hhbm5lbC1pZDoge3lvdXItY2hhbm5lbC1pZC1uYW1lfQogICAgICBwb3J0LWlkOiBpYmNhY2NvdW50CiAgICAgIG9yZGVyOiBvcmRlcmVkCiAgICAgIHZlcnNpb246IGljczI3LTEKICAgIHN0cmF0ZWd5OgogICAgICAgIHR5cGU6IG5haXZlCg=="}}),t._v(" "),e("p",[t._v("Link the paths:")]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"cmx5IHR4IGxpbmsgYmFyLWZvby1pY2EK"}}),t._v(" "),e("p",[t._v("Once the linking is successful, you can use the "),e("code",[t._v("mock")]),t._v(" module to run some test transactions that use interchain accounts.")]),t._v(" "),e("h3",{attrs:{id:"_7-running-test-transactions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-running-test-transactions"}},[t._v("#")]),t._v(" 7. Running test transactions")]),t._v(" "),e("p",[t._v("First, you need to register an IBCAccount on chain "),e("code",[t._v("foo")]),t._v(" that chain "),e("code",[t._v("bar")]),t._v(" manages. Use the destination chain's "),e("code",[t._v("channel-id")]),t._v(" as shown in "),e("code",[t._v("config.yaml")]),t._v(".")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"YmFyZCB0eCBpYmNhY2NvdW50IHJlZ2lzdGVyIGliY2FjY291bnQge2RzdC5jaGFubmVsLWlkfSB0ZXN0IC0tZnJvbSBiYXIgLS1hYnNvbHV0ZS10aW1lb3V0cyAtLXBhY2tldC10aW1lb3V0LWhlaWdodCAmcXVvdDswLTEwMDAwMDAmcXVvdDsgLS1wYWNrZXQtdGltZW91dC10aW1lc3RhbXAgMAo="}}),t._v(" "),e("p",[t._v("Now you can use the relayer to send over the packet information to the chain that the IBC account will be created on.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"cmx5IHR4IHJlbGF5LXBhY2tldHMgYmFyLWZvby1pY2EKcmx5IHR4IHJlbGF5LWFja25vd2xlZGdlbWVudHMgYmFyLWZvby1pY2EK"}}),t._v(" "),e("p",[t._v("Now let's check if the IBC account has been registered on chain "),e("code",[t._v("foo")]),t._v(".")]),t._v(" "),e("p",[t._v("Open a new terminal window in workspace 1")]),t._v(" "),e("p",[t._v("Use the "),e("code",[t._v("src.channel-id")]),t._v(" in the relayer's "),e("code",[t._v("config.yaml")]),t._v(" for the next command.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Zm9vZCBxIGliY2FjY291bnQgaWJjYWNjb3VudCB0ZXN0IGliY2FjY291bnQge3NyYy5jaGFubmVsLWlkfQo="}}),t._v(" "),e("p",[t._v("Send a small amount of tokens to the IBC account address.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Zm9vZCB0eCBiYW5rIHNlbmQgdXNlcjIge2liY19hY2NvdW50X2FkZHJlc3N9IDEwMHRva2VuCg=="}}),t._v(" "),e("p",[t._v("Check the balance of the IBC account.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Zm9vZCBxIGJhbmsgYmFsYW5jZXMge2liY19hY2NvdW50X2FkZHJlc3N9Cg=="}}),t._v(" "),e("p",[t._v("Now move to workspace 2 to use the "),e("code",[t._v("bar")]),t._v(" chain to send a token from the interchain account on "),e("code",[t._v("foo")]),t._v(" chain.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"YmFyZCB0eCBpYmNhY2NvdW50IHNlbmQgaWJjYWNjb3VudCB7c3JjLmNoYW5uZWwtaWR9IHtpYmMtYWNjb3VudC1hZGRyZXNzfSB7cmVjZWl2aW5nLWFjY291bnQtYWRkcmVzc30gNTB0b2tlbiAtLWZyb20gYmFyIC0tYWJzb2x1dGUtdGltZW91dHMgLS1wYWNrZXQtdGltZW91dC1oZWlnaHQgJnF1b3Q7MC0xMDAwMDAwJnF1b3Q7IC0tcGFja2V0LXRpbWVvdXQtdGltZXN0YW1wIDAK"}}),t._v(" "),e("p",[t._v("Relay the packet through the relayer.")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 2")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"cmx5IHR4IHJlbGF5LXBhY2tldHMgYmFyLWZvby1pY2EKcmx5IHR4IHJlbGF5LWFja25vd2xlZGdlbWVudHMgYmFyLWZvby1pY2EK"}}),t._v(" "),e("p",[t._v("Check the balance of the interchain account on chain "),e("code",[t._v("foo")]),t._v(".")]),t._v(" "),e("p",[e("strong",[t._v("Workspace 1")])]),t._v(" "),e("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Zm9vZCBxIGJhbmsgYmFsYW5jZXMge2liY19hY2NvdW50X2FkZHJlc3N9Cg=="}}),t._v(" "),e("p",[t._v("Congratulations! You have now successfully sent a local transaction from an interchain account on chain "),e("code",[t._v("bar")]),t._v(" through the interchain accounts IBC message.")])],1)}),[],!1,null,null,null);a.default=c.exports}}]);